<?php
/** @var Match[] $matches */
use EduBet\Match\Entity\Match;

?>
<table class="table table-striped">
    <thead>
    <tr>
        <th>Tijdstip</th>
        <th>Thuis</th>
        <th>Uit</th>
        <th>Competitie</th>
        <th>WhoScored</th>
        <th colspan="3">Betfair Odds</th>
        <th colspan="4">PickForWin</th>
        <th>Uitslag</th>
    </tr>
    <tr>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th>1</th>
        <th>X</th>
        <th>2</th>
        <th>1</th>
        <th>X</th>
        <th>2</th>
        <th>Pick</th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    <?php foreach ($matches as $match): ?>
        <tr>
            <th scope="row">
                <?php //echo "(".$match->getId().")"; ?>
                <?php echo strftime("%a %e %b %R", $match->getTimestamp()); ?>
            </th>
            <td>
                <?php echo $match->getHomeTeam()->getName(); ?>
            </td>
            <td>
                <?php echo $match->getAwayTeam()->getName(); ?>
            </td>
            <td>
                <?php echo $match->getTournament()->getName(); ?>
            </td>
            <td class="<?php echo $this->whoScoredClass($match); ?>">
                <?php
                if (null != $match->getWhoScoredPreview()) {
                    echo $match->getWhoScoredPreview()->toString();
                }
                ?>
            </td>
            <td class="<?php echo $this->oddsClass($match, 1); ?>">
                <?php
                if (null != $match->getOdds()) {
                    echo $match->getOdds()->getHome();
                }
                ?>
            </td>
            <td class="<?php echo $this->oddsClass($match, 3); ?>">
                <?php
                if (null != $match->getOdds()) {
                    echo $match->getOdds()->getDraw();
                }
                ?>
            </td>
            <td class="<?php echo $this->oddsClass($match, 2); ?>">
                <?php
                if (null != $match->getOdds()) {
                    echo $match->getOdds()->getAway();
                }
                ?>
            </td>
            <td class="<?php echo $this->pickForWinClass($match, 1); ?>">
                <?php
                if (null != $match->getPickForWin()) {
                    echo $match->getPickForWin()->getHome()."%";
                }
                ?>
            </td>
            <td class="<?php echo $this->pickForWinClass($match, 3); ?>">
                <?php
                if (null != $match->getPickForWin()) {
                    echo $match->getPickForWin()->getDraw()."%";
                }
                ?>
            </td>
            <td class="<?php echo $this->pickForWinClass($match, 2); ?>">
                <?php
                if (null != $match->getPickForWin()) {
                    echo $match->getPickForWin()->getAway()."%";
                }
                ?>
            </td>
            <td class="<?php echo $this->pickForWinPicksClass($match, 2); ?>">
                <?php
                if (null != $match->getPickForWin()) {
                    echo $match->getPickForWin()->getPick();
                }
                ?>
            </td>
            <td>
                <?php
                if (null != $match->getResult()) {
                    echo $match->getResult()->toString();
                }
                ?>
            </td>
        </tr>
    <?php endforeach; ?>
    </tbody>
</table>